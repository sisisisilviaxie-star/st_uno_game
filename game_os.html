```html
<!DOCTYPE html>
<!-- Game OS v17.0 - Yellows Game -->
<style>
    /* --- æ ¸å¿ƒå®¹å™¨ --- */
    #game-os-root {
        position: fixed; 
        top: 10%; left: 50%; 
        transform: translateX(-50%);
        width: 95%; max-width: 480px; 
        height: 700px; max-height: 85vh;
        background: #121212; 
        border: 1px solid #333; 
        border-radius: 18px;
        z-index: 2147483647; /* é¡¶çº§å±‚çº§ï¼Œé˜²æ­¢è¢«é®æŒ¡ */
        display: flex; flex-direction: column;
        box-shadow: 0 30px 80px rgba(0,0,0,0.95); 
        overflow: hidden; 
        font-family: "Segoe UI", sans-serif; 
        user-select: none;
        opacity: 0; /* åˆå§‹éšè—ï¼ŒJSæ·¡å…¥ */
        transition: opacity 0.3s ease;
    }

    /* é¡¶éƒ¨æ  */
    .os-statusbar {
        height: 40px; background: #1e1e1e; border-bottom: 1px solid #333;
        display: flex; align-items: center; justify-content: space-between;
        padding: 0 15px; color: #fff; font-weight: 600; cursor: move;
    }
    
    /* æ¡Œé¢ */
    #os-desktop {
        flex: 1; padding: 25px; 
        display: grid; grid-template-columns: repeat(4, 1fr); 
        grid-auto-rows: 90px; gap: 15px; align-content: start;
        background: linear-gradient(180deg, #2c3e50 0%, #000000 100%);
    }

    /* å›¾æ ‡é€šç”¨ */
    .app-icon { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; transition: 0.1s; }
    .app-icon:active { transform: scale(0.9); }
    .app-img {
        width: 55px; height: 55px; border-radius: 14px;
        display: flex; align-items: center; justify-content: center;
        font-size: 28px; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        border: 1px solid rgba(255,255,255,0.1); color: white;
    }
    .app-name { color: #ccc; font-size: 12px; }

    /* ä½ çš„åº”ç”¨å›¾æ ‡ */
    .ico-uno { background: linear-gradient(135deg, #ff5555, #ffaa00); }
    .ico-dev { background: #333; color: #666; }

    /* App è§†çª— */
    #os-app-viewport { flex: 1; display: none; background: #222; flex-direction: column; position: relative; }
    .app-nav { height: 44px; background: #2d2d2d; border-bottom: 1px solid #444; display: flex; align-items: center; padding: 0 10px; color:white;}
    .nav-btn { cursor: pointer; padding: 5px 12px; background: #444; border-radius: 6px; font-size: 12px; margin-right:10px;}

    /* --- UNO æ ·å¼ --- */
    .uno-stage { flex:1; background: radial-gradient(#3a6073, #16222a); padding:10px; display:flex; flex-direction:column; justify-content:space-between; position:relative; }
    .u-zone { display: flex; align-items: center; gap: 10px; }
    .uz-ai { align-items: flex-start; } 
    .uz-user { justify-content: flex-end; align-items: flex-end; }
    .u-av { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #fff; object-fit: cover; background:#000; }
    .u-bub { background: #fff; padding: 8px 12px; border-radius: 12px; font-size: 13px; max-width: 160px; color:#333; }
    .u-card { width: 48px; height: 72px; background: #fff; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: 900; border: 1px solid #ccc; cursor: pointer; }
    .c-red { background: #e74c3c; color: #fff; }
    .c-back { background: #2c3e50; border: 2px solid #fff; color: transparent; }
    .u-hand { display: flex; gap: 5px; overflow-x: auto; padding: 8px; background: rgba(0,0,0,0.3); min-height: 90px; align-items: center; }
    
</style>

<div id="game-os-root">
    <!-- çŠ¶æ€æ  -->
    <div class="os-statusbar" id="os-drag-handle">
        <div style="color:#ffd700">Yellows Game</div>
        <div style="display:flex; gap:15px; align-items:center;">
            <span id="os-clock" style="font-weight:normal; font-size:12px; color:#aaa;">12:00</span>
            <div id="os-close-btn" style="cursor:pointer; color:#ff5555;">âœ•</div>
        </div>
    </div>

    <!-- æ¡Œé¢ -->
    <div id="os-desktop">
        <div class="app-icon" onclick="GameOS.openApp('uno')">
            <div class="app-img ico-uno">ğŸƒ</div>
            <div class="app-name">UNO</div>
        </div>
        <div class="app-icon" onclick="alert('å¼€å‘ä¸­...')">
            <div class="app-img ico-dev">â•</div>
            <div class="app-name">æ›´å¤š</div>
        </div>
    </div>

    <!-- åº”ç”¨å®¹å™¨ -->
    <div id="os-app-viewport"></div>
</div>

<script>
(function() {
    // --- 0. ç¯å¢ƒæ¨¡æ‹Ÿ (é˜²æ­¢åœ¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€æ—¶æŠ¥é”™) ---
    // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®©ä½ åœ¨æµè§ˆå™¨ä¹Ÿèƒ½çœ‹åˆ°ç•Œé¢ï¼
    if (typeof window.jQuery === 'undefined') {
        console.warn("éé…’é¦†ç¯å¢ƒï¼Œå¯åŠ¨æ¨¡æ‹Ÿæ¨¡å¼");
        window.jQuery = { 
            // æç®€ jQuery æ¨¡æ‹Ÿï¼Œåªä¸ºäº†æ˜¾ç¤ºç•Œé¢
            fn: { 
                fadeIn: function(){ this.style.opacity=1; this.style.display='block'; },
                fadeOut: function(){ this.style.opacity=0; setTimeout(()=>this.style.display='none',300); },
                text: function(t){ this.innerText=t; return this; },
                html: function(h){ this.innerHTML=h; return this; },
                css: function(p,v){ this.style[p]=v; return this; },
                hide: function(){ this.style.display='none'; return this; },
                empty: function(){ this.innerHTML=''; return this; },
                find: function(s){ return this.querySelector(s) || {attr:()=>{}}; },
                attr: function(){},
                click: function(fn){ this.onclick=fn; },
                remove: function(){ this.remove(); }
            } 
        };
        // è®© document.querySelector è¿”å›æ¨¡æ‹Ÿå¯¹è±¡
        window.$ = (s) => {
            const el = typeof s === 'string' ? document.querySelector(s) : s;
            if(!el) return { on:()=>{}, remove:()=>{} }; 
            Object.assign(el, window.jQuery.fn);
            return el;
        };
    }
    
    // é…’é¦† API æ¨¡æ‹Ÿ
    if (typeof window.SillyTavern === 'undefined') {
        window.SillyTavern = {
            getContext: () => ({ 
                characterId: 1, 
                characters: {1: {name: "AIå¥³å‹", avatar: "https://via.placeholder.com/50"}}, 
                userAvatar: "https://via.placeholder.com/50",
                name1: "ç©å®¶"
            })
        };
    }

    // --- 1. å¯åŠ¨é€»è¾‘ ---
    const $ = window.jQuery;
    const ST = window.SillyTavern;
    
    console.log("ğŸ® Yellows Game OS Loaded");
    
    // æ˜¾ç¤ºç•Œé¢ (æ·¡å…¥)
    setTimeout(() => {
        const root = document.getElementById('game-os-root');
        if(root) root.style.opacity = 1;
    }, 100);

    // æ‹–æ‹½æ”¯æŒ (åŸç”Ÿ JS)
    const el = document.getElementById('game-os-root');
    const handle = document.getElementById('os-drag-handle');
    let isD=false,sx,sy,ix,iy;
    handle.onmousedown = (e) => { isD=true; sx=e.clientX; sy=e.clientY; ix=el.offsetLeft; iy=el.offsetTop; };
    document.onmousemove = (e) => { if(isD) { el.style.left=(ix+e.clientX-sx)+'px'; el.style.top=(iy+e.clientY-sy)+'px'; el.style.transform='none'; } };
    document.onmouseup = () => isD=false;
    // è§¦æ‘¸
    handle.ontouchstart = (e) => { isD=true; sx=e.touches[0].clientX; sy=e.touches[0].clientY; ix=el.offsetLeft; iy=el.offsetTop; };
    document.ontouchmove = (e) => { if(isD) { e.preventDefault(); el.style.left=(ix+e.touches[0].clientX-sx)+'px'; el.style.top=(iy+e.touches[0].clientY-sy)+'px'; el.style.transform='none'; } };
    document.ontouchend = () => isD=false;

    // å…³é—­
    document.getElementById('os-close-btn').onclick = () => {
        el.style.opacity = 0;
        setTimeout(() => el.remove(), 300);
    };

    // --- OS é€»è¾‘ ---
    window.GameOS = {
        openApp: function(id) {
            document.getElementById('os-desktop').style.display = 'none';
            const vp = document.getElementById('os-app-viewport');
            vp.style.display = 'flex';
            vp.innerHTML = ''; // æ¸…ç©º
            
            if(id === 'uno') this.renderUno(vp);
        },
        goHome: function() {
            document.getElementById('os-app-viewport').style.display = 'none';
            document.getElementById('os-desktop').style.display = 'grid';
        },
        
        // UNO æ¸²æŸ“å™¨
        renderUno: function(container) {
            container.innerHTML = `
                <div class="app-nav">
                    <div class="nav-btn" onclick="GameOS.goHome()">â¬… æ¡Œé¢</div>
                    <div style="flex:1;text-align:center;color:gold;font-weight:bold;">UNO</div>
                    <div style="width:50px"></div>
                </div>
                <div class="uno-stage">
                    <div class="u-zone uz-ai">
                        <img class="u-av" src="${getAv('c')}">
                        <div class="u-bub">UNO å¯åŠ¨!</div>
                    </div>
                    <div class="u-center">
                        <div class="u-card c-red">Start</div>
                        <div class="u-card c-back">UNO</div>
                    </div>
                    <div class="u-zone uz-user">
                        <div class="u-bub">...</div>
                        <img class="u-av" src="${getAv('u')}">
                    </div>
                    <div class="u-hand">
                        <div class="u-card c-blue">1</div>
                        <div class="u-card c-green">2</div>
                        <div class="u-card c-yellow">Skip</div>
                    </div>
                </div>
            `;
        }
    };

    // å¤´åƒè¾…åŠ©
    function getAv(t) {
        const c=ST.getContext();
        if(t=='u') return c.userAvatar && !c.userAvatar.includes('http') ? `/User Avatars/${c.userAvatar}` : c.userAvatar;
        if(t=='c') return c.characters && c.characters[c.characterId] ? `/characters/${c.characters[c.characterId].avatar}` : '';
        return '';
    }

})();
</script>
```
